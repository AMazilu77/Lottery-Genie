<div class="backGround">
  <div class="glassContainer glass" appDraggable>
    <button class="btn back-btn-panel" type="button" (click)="back()">Back</button>
    <h2 class="title">Florida Fantasy Five</h2>

    <div class="rules-section">
      <h3>Florida Fantasy Five Number Generator</h3>
      <h4>Rules</h4>
      <p>1. Select five numbers from 1 through 36.</p>
      <p>Save numbers to your profile to track performance. After buying a ticket, click "Post it" to register the play.</p>
      <button class="btn btn-outline-info" (click)="showRules = true">I wish to know more</button>
    </div>

    <div class="number-cards">
      <div class="number-ball" *ngFor="let num of [
        numberGenService.fantasy5GeneratedNumber1,
        numberGenService.fantasy5GeneratedNumber2,
        numberGenService.fantasy5GeneratedNumber3,
        numberGenService.fantasy5GeneratedNumber4,
        numberGenService.fantasy5GeneratedNumber5
      ]">{{ num }}</div>
    </div>

    <div class="genie-section">
      <p><i>{{ numberGenService.Phrase }}</i></p>
    </div>

    <div class="btn-group">
      <button class="btn btn-outline-primary"
        (click)="numberGenService.fantasy5randomGenMaster(); numberGenService.randomPhraseGen()">
        Give me a number!
      </button>
      <button class="btn btn-outline-success" (click)="saveFantasy5()">
        I will play this number, save it
      </button>
      <button class="btn btn-outline-danger"
        (click)="numberGenService.fantasy5randomGenMaster(); numberGenService.randomPhraseGen()">
        I don't like this number
      </button>
      <button class="btn btn-outline-info" routerLink="/WinningFantasy5">
        Show me numbers that have won
      </button>
    </div>

    <div class="saved-section">
      <h3>Saved Numbers</h3>
      <div class="saved-scroll">
        <div *ngFor="let set of numberGenService.getSavedNumbers('fantasy5'); let i = index" class="saved-number-row">
          <div class="number-ball" *ngFor="let num of set">{{ num }}</div>
          <button class="delete-btn" (click)="deleteSavedFantasy5(i)">×</button>
        </div>
      </div>
      <button class="btn btn-outline-primary" type="submit">Post it</button>
    </div>
  </div>

  <app-rules-modal
    *ngIf="showRules"
    [gameTitle]="'Florida Fantasy Five'"
    [quote]="'What arcane knowledge dost thou seek, mortal?'"
    (closed)="showRules = false">
    
    <div rules>
      <p><b>1.</b> Choose five numbers from <b>1 through 36</b>. Match all five to win the jackpot.</p>
      <p><b>2.</b> Drawings take place twice daily — <b>1:30 PM</b> and <b>9:45 PM ET</b>.</p>
      <p><b>3.</b> Base ticket is <b>$1</b>. Add-on options like <b>EZmatch</b> cost more but give instant-win chances.</p>
      <p><b>Reminder:</b> Prizes must be claimed within 180 days of the draw date.</p>
    </div>

    <div odds>
      <p><b>Match 5:</b> 1 in 376,992 — <b>Jackpot</b> (typically $200k–$250k)</p>
      <p><b>Match 4:</b> 1 in 2,432 — ~$100</p>
      <p><b>Match 3:</b> 1 in 81 — ~$10</p>
      <p><b>Match 2:</b> 1 in 9 — free ticket</p>
    </div>

    <div theory>
      <p><b>Expected Value:</b> Fantasy 5 has one of the best EVs of Florida games under $2, especially when jackpots roll over.</p>
      <p><b>Genie’s Wisdom:</b> A fast, daily game with good feedback loops and decent odds — ideal for disciplined strategy and tracking play styles.</p>
    </div>
  </app-rules-modal>
</div>