<div class="backGround">
  <div class="glassContainer glass" appDraggable>
    <button class="btn back-btn-panel" type="button" (click)="back()">Back</button>
    <h2 class="title">Cash for Life</h2>

    <div class="rules-section">
      <h3>Florida Cash for Life Number Generator</h3>
      <h4>Rules</h4>
      <p>1. Select five numbers from 1 through 60 and one green cash ball from 1 through 4.</p>
      <p>Save numbers to your profile to track performance. After buying a ticket, click "Post it" to register the play.</p>
      <button class="btn btn-outline-info" (click)="showRules = true">I wish to know more</button>
    </div>

    <div class="number-cards">
      <div class="number-ball" *ngFor="let num of [
        numberGenService.cashForLifeGeneratedNumber1,
        numberGenService.cashForLifeGeneratedNumber2,
        numberGenService.cashForLifeGeneratedNumber3,
        numberGenService.cashForLifeGeneratedNumber4,
        numberGenService.cashForLifeGeneratedNumber5
      ]">
        {{ num }}
      </div>
      <div class="number-ball money-ball">
        {{ numberGenService.cashForLifeCashBall }}
      </div>
    </div>

    <div class="genie-section">
      <p><i>{{ numberGenService.Phrase }}</i></p>
    </div>

    <div class="btn-group">
      <button class="btn btn-outline-primary"
        (click)="numberGenService.cashForLifeRandomGenMaster(); numberGenService.randomPhraseGen()">Give me a number!</button>
      <button class="btn btn-outline-success" (click)="saveCashForLife()">I will play this number, save it</button>
      <button class="btn btn-outline-danger"
        (click)="numberGenService.cashForLifeRandomGenMaster(); numberGenService.randomPhraseGen()">I don't like this number</button>
      <button class="btn btn-outline-info" routerLink="/CashForLifeWinners">Show me numbers that have won</button>
    </div>

    <div class="saved-section">
      <h3>Saved Numbers</h3>
      <div class="saved-scroll">
        <div *ngFor="let set of numberGenService.getSavedNumbers('cash4life'); let i = index" class="saved-number-row">
          <div class="number-ball" *ngFor="let num of set.slice(0, 5)">
            {{ num }}
          </div>
          <div class="number-ball money-ball">
            {{ set[5] }}
          </div>
          <button class="delete-btn" (click)="deleteSavedCashForLife(i)">×</button>
        </div>
      </div>
      <button class="btn btn-outline-primary" type="submit">Post it</button>
    </div>
  </div>

<app-rules-modal
  *ngIf="showRules"
  [gameTitle]="'Cash 4 Life'"
  [quote]="'What arcane knowledge dost thou seek, mortal?'"
  (closed)="showRules = false"
>

  <div rules>
    <p><b>1.</b> Cash 4 Life is a multi-state lottery game with a unique twist — instead of a lump sum, you’re playing for a lifetime annuity.</p>
    <p><b>2.</b> To play, select <b>five white ball numbers from 1 through 60</b> and <b>one green Cash Ball from 1 through 4</b>.</p>
    <p><b>3.</b> The top prize is <b>$1,000 a day for life</b>. The second prize is <b>$1,000 a week for life</b>.</p>
    <p><b>4.</b> Drawings are held <b>every day at approximately 9:00 p.m. ET</b>.</p>
    <p><b>5.</b> You can purchase up to 10 plays per playslip, and advance play is available.</p>
    <p><b>6.</b> Prizes must be claimed within <b>180 days</b> of the drawing date.</p>
  </div>

  <div odds>
    <p><b>1.</b> The odds of hitting the <b>grand prize</b> (5 numbers + Cash Ball) are <b>1 in 21,846,048</b>.</p>
    <p><b>2.</b> Matching <b>5 numbers but not the Cash Ball</b> nets you the second prize: <b>$1,000/week for life</b> with odds of <b>1 in 7,282,016</b>.</p>
    <p><b>3.</b> Other winning combinations and odds:</p>
    <ul>
      <li><b>4 numbers + Cash Ball:</b> $2,500 – Odds: 1 in 79,440</li>
      <li><b>4 numbers:</b> $500 – Odds: 1 in 26,480</li>
      <li><b>3 numbers + Cash Ball:</b> $100 – Odds: 1 in 1,471</li>
      <li><b>3 numbers:</b> $25 – Odds: 1 in 490</li>
      <li><b>2 numbers + Cash Ball:</b> $10 – Odds: 1 in 83</li>
      <li><b>2 numbers:</b> $4 – Odds: 1 in 28</li>
      <li><b>1 number + Cash Ball:</b> $2 – Odds: 1 in 13</li>
      <li><b>Cash Ball only:</b> $1 – Odds: 1 in 29</li>
    </ul>
    <p><b>Note:</b> If there are multiple grand prize winners, annuity prizes may be split.</p>
  </div>

  <div theory>
    <p><b>1.</b> From a game theory perspective, Cash 4 Life is a long-odds, high-reward game with <b>non-lump sum payouts</b>, which changes its EV dynamics slightly.</p>
    <p><b>2.</b> The expected value per ticket is low — roughly <b>20 to 30 cents</b> on the dollar — but the appeal lies in the rarity and mystique of “for life” prizes.</p>
    <p><b>3.</b> If the total number of players drops (e.g. off-peak times), your odds of splitting prizes go down, <b>increasing potential EV slightly</b>.</p>
    <p><b>4.</b> Use this game to chase dreams, not to grind income — it's better for spare dollar bills when the fantasy payoff is worth the thrill.</p>
    <p><b>5.</b> Combine it with a ticket log in your profile to test out pattern tracking over time, especially for trailing digit patterns and rare Cash Ball matches.</p>
  </div>

</app-rules-modal>

</div>
